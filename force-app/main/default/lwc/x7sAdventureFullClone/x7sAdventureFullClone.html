<!--
  ~ Copyright (c) 2020. 7Summits Inc.
  -->
<template>
    <template if:true={hasCloneAccess}>
        <lightning-button variant="brand"
                        label={buttonLabel}
                        title="Clone"
                        onclick={openModal}
                        class="slds-m-left_x-small">
        </lightning-button>

        <template if:true={isModalOpen}>

            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
                    aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">

                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse"
                                title="Close" onclick={closeModal}>
                            <lightning-icon icon-name="utility:close"
                                            alternative-text="close"
                                            variant="inverse"
                                            size="small"></lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                        <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">{labels.LabelModal}</h2>
                    </header>

                    <lightning-layout multiple-rows="true" class='slds-card'>
                        <lightning-layout-item class="slds-p-around_small" flexibility="grow" size="12">
                            <lightning-formatted-text value={labels.descriptiveText}></lightning-formatted-text>
                        </lightning-layout-item>
                        <lightning-layout-item class="slds-p-around_small" flexibility="grow" size="12">
                            <lightning-input class="cloneNameClass" label={labels.cloneAdventureName}
                                            value={adventureSetup.clonedAdventureName}></lightning-input>
                        </lightning-layout-item>
                        <lightning-layout-item class="slds-p-around_small" flexibility="grow" size="12">
                            <lightning-input type="checkbox" name="showCheckboxes" class="showCheckboxes"
                                            label={labels.cloneAdventureEnableShowCheckboxes}></lightning-input>
                        </lightning-layout-item>
                        <lightning-layout-item if:true={adventureSetup.exists} class="slds-p-around_small slds-text-align_center slds-theme_warning" flexibility="grow" size="12">
                            <lightning-formatted-text value={labels.cloneAdventureExists}></lightning-formatted-text>
                        </lightning-layout-item>
                        <lightning-layout-item if:false={adventureSetup.exists} class="slds-p-around_small slds-text-align_center" flexibility="grow" size="12">
                            <lightning-formatted-text value={labels.cloneAdventureContinue}></lightning-formatted-text>
                        </lightning-layout-item>
                    </lightning-layout>

                    <template if:true={isLoading}>
                        <div class="slds-spinner_container">
                            <lightning-spinner size="medium"
                                            data-id="spinnerSubmit"
                                            variant="brand"
                                            alternative-text="Cloning...">
                            </lightning-spinner>
                        </div>
                    </template>

                    <footer class="slds-modal__footer">
                        <lightning-button class="slds-m-top--medium" label={labels.labelButtonYes}
                                        onclick={fullClone}></lightning-button>
                        <lightning-button variant="brand" class="slds-m-top--medium" label={labels.labelButtonNo}
                                        onclick={closeModal}></lightning-button>
                    </footer>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </template>
    </template>
</template>